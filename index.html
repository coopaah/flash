<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FlashTags - AI-Enhanced Search Engine</title>
    <meta name="description" content="A powerful AI-powered search engine that delivers fast, comprehensive results with intelligent summaries." />
    <meta name="keywords" content="search engine, AI search, fast search, flash search, web search, flashtags, deep, deepsearch, deep search, AI" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://flashtags.tech/" />
    <meta property="og:title" content="FlashTags - AI-Enhanced Search Engine" />
    <meta property="og:description" content="A powerful AI-powered search engine that delivers fast, comprehensive results with intelligent summaries." />
    <meta property="og:image" content="https://flashtags.tech/logo.png" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://flashtags.tech/" />
    <meta name="twitter:title" content="FlashTags - AI-Enhanced Search Engine" />
    <meta name="twitter:description" content="A powerful AI-powered search engine that delivers fast, comprehensive results with intelligent summaries." />
    <meta name="twitter:image" content="https://flashtags.tech/logo.png" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://flashtags.tech/" />
    
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="/logo.png" />
    <link rel="manifest" href="/manifest.json" />
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <style>
      :root {
        --primary-color: #6366f1;
        --primary-light: #818cf8;
        --primary-dark: #4f46e5;
        --secondary-color: #14b8a6;
        --bg-color: #f8fafc;
        --card-bg: #ffffff;
        --text-color: #0f172a;
        --muted-text: #64748b;
        --input-bg: #ffffff;
        --transition-timing: cubic-bezier(0.4, 0, 0.2, 1);
        --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        font-family: "Inter", sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        margin: 0;
        padding: 0;
        min-height: 100vh;
        position: relative;
        opacity: 0;
        animation: fadeIn 0.8s var(--transition-timing) forwards;
        background: linear-gradient(135deg, #f8fafc 0%, #e0f2fe 100%);
        display: flex;
        flex-direction: column;
      }

      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }

      /* Hero Section */
      .hero-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        padding: 2rem;
        position: relative;
        overflow: hidden;
        flex: 1;
      }

      .hero-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        z-index: 1;
        max-width: 800px;
        width: 100%;
      }

      .logo-container {
        margin-bottom: 2rem;
        position: relative;
        animation: floatAnimation 6s ease-in-out infinite;
      }

      @keyframes floatAnimation {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
        100% { transform: translateY(0px); }
      }

      .logo {
        width: 200px;
        transition: transform 0.3s var(--transition-timing);
      }

      .logo-glow {
        position: absolute;
        width: 220px;
        height: 140px;
        background: radial-gradient(circle, rgba(99, 102, 241, 0.2) 0%, rgba(99, 102, 241, 0) 70%);
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: -1;
        border-radius: 50%;
        animation: pulse 3s ease-in-out infinite;
      }

      @keyframes pulse {
        0% { opacity: 0.6; transform: translate(-50%, -50%) scale(1); }
        50% { opacity: 0.8; transform: translate(-50%, -50%) scale(1.1); }
        100% { opacity: 0.6; transform: translate(-50%, -50%) scale(1); }
      }

      .tagline {
        font-size: 1.25rem;
        color: var(--text-color);
        margin-bottom: 2.5rem;
        max-width: 600px;
        font-weight: 500;
        line-height: 1.5;
        animation: slideUp 1s var(--transition-timing) forwards;
        opacity: 0;
        animation-delay: 0.3s;
      }

      @keyframes slideUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }

      .search-container {
        width: 100%;
        max-width: 650px;
        display: flex;
        align-items: center;
        position: relative;
        margin-bottom: 1.5rem;
        transition: all 0.3s var(--transition-timing);
        animation: fadeIn 1s var(--transition-timing) forwards;
        animation-delay: 0.5s;
        opacity: 0;
      }

      .search-bar {
        width: 100%;
        padding: 1.25rem 1.5rem;
        font-size: 1.125rem;
        border: 2px solid rgba(99, 102, 241, 0.2);
        border-radius: 50px;
        background-color: var(--card-bg);
        box-shadow: var(--shadow-md);
        transition: all 0.3s var(--transition-timing);
      }

      .search-bar:focus {
        outline: none;
        box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.3), var(--shadow-lg);
        border-color: var(--primary-color);
      }

      .search-icon-container {
        position: absolute;
        right: 0.75rem;
        display: flex;
        align-items: center;
      }

      .search-icon,
      .ai-icon {
        width: 36px;
        height: 36px;
        padding: 8px;
        margin: 0 4px;
        cursor: pointer;
        fill: var(--primary-color);
        transition: all 0.2s var(--transition-timing);
        border-radius: 50%;
      }

      .search-icon:hover,
      .ai-icon:hover {
        transform: translateY(-4px);
        background-color: rgba(99, 102, 241, 0.1);
        box-shadow: var(--shadow-sm);
      }

      .search-navigation {
        display: flex;
        gap: 0.75rem;
        margin-bottom: 2rem;
        opacity: 0;
        animation: fadeIn 1s var(--transition-timing) forwards;
        animation-delay: 0.7s;
      }

      .search-tab {
        padding: 0.75rem 1.25rem;
        background-color: rgba(255, 255, 255, 0.5);
        border-radius: 50px;
        font-size: 0.875rem;
        font-weight: 500;
        color: var(--muted-text);
        cursor: pointer;
        transition: all 0.3s ease;
        border: 1px solid transparent;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .search-tab:hover {
        background-color: rgba(255, 255, 255, 0.8);
        color: var(--primary-color);
        transform: translateY(-2px);
      }

      .search-tab.active {
        background-color: white;
        color: var(--primary-color);
        font-weight: 600;
        border-color: rgba(99, 102, 241, 0.3);
        box-shadow: var(--shadow-sm);
      }

      .search-tab svg {
        width: 18px;
        height: 18px;
        fill: currentColor;
      }

      /* Default Search Banner */
      .default-search-banner {
        background: linear-gradient(135deg, rgba(255,255,255,0.7) 0%, rgba(240,249,255,0.9) 100%);
        backdrop-filter: blur(10px);
        padding: 1.25rem;
        border-radius: 16px;
        border: 1px solid rgba(99, 102, 241, 0.2);
        max-width: 650px;
        width: 100%;
        margin-top: 2rem;
        box-shadow: var(--shadow-md);
        transition: all 0.3s ease;
        position: relative;
        opacity: 0;
        animation: fadeIn 1s var(--transition-timing) forwards;
        animation-delay: 0.9s;
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .default-search-banner:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
      }

      .default-search-icon {
        width: 42px;
        height: 42px;
        min-width: 42px;
        background-color: rgba(99, 102, 241, 0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .default-search-icon svg {
        width: 24px;
        height: 24px;
        fill: var(--primary-color);
      }

      .default-search-content {
        flex: 1;
      }

      .default-search-title {
        font-size: 1rem;
        font-weight: 600;
        color: var(--text-color);
        margin-bottom: 0.5rem;
      }

      .default-search-text {
        font-size: 0.9rem;
        color: var(--muted-text);
        line-height: 1.5;
        margin-bottom: 1rem;
      }

      .default-search-text code {
        background: rgba(99, 102, 241, 0.1);
        padding: 0.2rem 0.5rem;
        border-radius: 6px;
        font-family: monospace;
        font-size: 0.85rem;
        color: var(--primary-dark);
        white-space: nowrap;
      }

      .copy-btn {
        background: var(--primary-color);
        border: none;
        border-radius: 8px;
        padding: 0.5rem 1rem;
        font-size: 0.875rem;
        color: white;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .copy-btn:hover {
        background: var(--primary-dark);
        transform: translateY(-2px);
      }

      .copy-btn svg {
        width: 16px;
        height: 16px;
        fill: currentColor;
      }

      /* Suggestions */
      .suggestions {
        position: absolute;
        top: calc(100% + 0.5rem);
        left: 0;
        right: 0;
        background: var(--card-bg);
        border-radius: 16px;
        box-shadow: var(--shadow-lg);
        margin-top: 4px;
        overflow: hidden;
        z-index: 1000;
        display: none;
        border: 1px solid rgba(0,0,0,0.05);
      }

      .suggestions.visible {
        display: block;
        animation: slideDown 0.3s var(--transition-timing) forwards;
      }

      @keyframes slideDown {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
      }

      .suggestion {
        padding: 0.875rem 1.25rem;
        cursor: pointer;
        transition: all 0.2s var(--transition-timing);
        display: flex;
        align-items: center;
        border-bottom: 1px solid rgba(0,0,0,0.05);
      }

      .suggestion:last-child {
        border-bottom: none;
      }

      .suggestion:hover {
        background: rgba(99, 102, 241, 0.05);
      }

      .suggestion-icon {
        width: 18px;
        height: 18px;
        fill: var(--muted-text);
        margin-right: 0.875rem;
        flex-shrink: 0;
      }

      .suggestion-text {
        font-size: 0.9375rem;
        color: var(--text-color);
      }

      /* About Section */
      .about-toggle {
        background: transparent;
        border: none;
        color: var(--primary-color);
        font-weight: 500;
        font-size: 0.9375rem;
        padding: 0.5rem;
        border-radius: 8px;
        display: flex;
        align-items: center;
        gap: 0.375rem;
        cursor: pointer;
        transition: all 0.3s ease;
        opacity: 0;
        animation: fadeIn 1s var(--transition-timing) forwards;
        animation-delay: 1.1s;
      }

      .about-toggle:hover {
        background: rgba(99, 102, 241, 0.05);
        transform: translateY(-2px);
      }

      .about-toggle svg {
        width: 16px;
        height: 16px;
        transition: transform 0.3s ease;
      }

      .about-toggle.open svg {
        transform: rotate(180deg);
      }

      .about-section {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.6s ease, opacity 0.4s ease, margin 0.6s ease;
        opacity: 0;
        margin-top: 0;
        width: 100%;
        max-width: 900px;
      }

      .about-section.visible {
        max-height: 1200px;
        opacity: 1;
        margin-top: 3rem;
        margin-bottom: 2rem;
      }

      .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
      }

      .feature {
        background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.8) 100%);
        backdrop-filter: blur(5px);
        border-radius: 16px;
        padding: 1.5rem;
        box-shadow: var(--shadow-sm);
        border: 1px solid rgba(255, 255, 255, 0.3);
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        text-align: left;
        transition: all 0.3s ease;
      }

      .feature:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-lg);
        border-color: rgba(99, 102, 241, 0.2);
      }

      .feature-icon {
        width: 48px;
        height: 48px;
        padding: 12px;
        background-color: rgba(99, 102, 241, 0.1);
        border-radius: 12px;
        margin-bottom: 1.25rem;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .feature-icon svg {
        width: 24px;
        height: 24px;
        fill: var(--primary-color);
      }

      .feature-title {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 0.75rem;
        color: var(--text-color);
      }

      .feature-desc {
        font-size: 0.9375rem;
        color: var(--muted-text);
        line-height: 1.6;
      }

      /* Site Info Tooltip */
      .site-info-tooltip {
        display: inline-flex;
        align-items: center;
        background-color: var(--card-bg);
        border: 1px solid rgba(0,0,0,0.05);
        border-radius: 8px;
        padding: 0.5rem 0.75rem;
        font-size: 0.875rem;
        position: absolute;
        top: calc(100% + 0.5rem);
        left: 1.5rem;
        box-shadow: var(--shadow-md);
        z-index: 100;
        opacity: 0;
        transform: translateY(-5px);
        pointer-events: none;
        transition: opacity 0.3s ease, transform 0.3s ease;
      }
      
      .site-info-tooltip.visible {
        opacity: 1;
        transform: translateY(0);
        pointer-events: auto;
      }
      
      .favicon-img {
        width: 16px;
        height: 16px;
        margin-right: 0.5rem;
        vertical-align: middle;
      }

      /* Header & Footer */
      .header {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        padding: 1rem 2rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        z-index: 100;
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(10px);
        box-shadow: var(--shadow-sm);
      }

      .header-logo {
        width: 120px;
        cursor: pointer;
      }

      .nav-links {
        display: flex;
        align-items: center;
        gap: 1.5rem;
      }

      .nav-link {
        font-size: 0.9375rem;
        color: var(--muted-text);
        text-decoration: none;
        font-weight: 500;
        transition: all 0.2s ease;
        position: relative;
        padding: 0.375rem 0.75rem;
        border-radius: 8px;
      }

      .nav-link:hover {
        color: var(--primary-color);
        background-color: rgba(99, 102, 241, 0.05);
      }

      .footer {
        width: 100%;
        padding: 2rem;
        margin-top: auto;
        text-align: center;
        color: var(--muted-text);
        z-index: 10;
        background: rgba(255, 255, 255, 0.5);
        backdrop-filter: blur(8px);
        border-top: 1px solid rgba(0, 0, 0, 0.05);
      }

      .footer-links {
        display: flex;
        justify-content: center;
        gap: 1.5rem;
        margin-bottom: 0.75rem;
        flex-wrap: wrap;
      }

      .footer-link {
        color: var(--muted-text);
        text-decoration: none;
        transition: color 0.2s ease;
        font-size: 0.875rem;
        position: relative;
      }

      .footer-link:hover {
        color: var(--primary-color);
      }

      .copyright {
        font-size: 0.8125rem;
      }

      /* Toast notification */
      .toast {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background-color: var(--primary-color);
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 50px;
        box-shadow: var(--shadow-md);
        font-size: 0.9375rem;
        z-index: 1000;
        opacity: 0;
        transition: opacity 0.3s ease, transform 0.3s ease;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        pointer-events: none;
      }

      .toast.visible {
        opacity: 1;
        transform: translate(-50%, -10px);
      }

      .toast svg {
        width: 18px;
        height: 18px;
        fill: currentColor;
      }

      /* Background elements */
      .blob {
        position: absolute;
        border-radius: 50%;
        filter: blur(80px);
        z-index: -1;
        opacity: 0.5;
      }

      .blob-1 {
        width: 300px;
        height: 300px;
        background: linear-gradient(45deg, rgba(99, 102, 241, 0.2), rgba(20, 184, 166, 0.2));
        top: 10%;
        left: 15%;
        animation: float 15s ease-in-out infinite alternate;
      }

      .blob-2 {
        width: 350px;
        height: 350px;
        background: linear-gradient(45deg, rgba(20, 184, 166, 0.2), rgba(99, 102, 241, 0.2));
        bottom: 5%;
        right: 10%;
        animation: float 20s ease-in-out infinite alternate;
      }

      @keyframes float {
        0% { transform: translate(0, 0) rotate(0deg); }
        50% { transform: translate(-20px, 20px) rotate(5deg); }
        100% { transform: translate(20px, -20px) rotate(-5deg); }
      }

      /* Media Queries */
      @media (max-width: 768px) {
        .hero-section {
          padding: 6rem 1.5rem 3rem;
        }
        
        .logo {
          width: 150px;
        }

        .logo-glow {
          width: 170px;
          height: 100px;
        }
        
        .tagline {
          font-size: 1.125rem;
          margin-bottom: 2rem;
        }
        
        .search-container {
          max-width: 100%;
        }

        .search-bar {
          padding: 1rem 1.25rem;
          font-size: 1rem;
        }
        
        .default-search-banner {
          max-width: 100%;
          flex-direction: column;
          padding: 1.25rem;
        }

        .default-search-icon {
          margin-bottom: 0.5rem;
        }

        .feature-grid {
          grid-template-columns: 1fr;
        }
        
        .header {
          padding: 0.75rem 1.25rem;
        }
        
        .nav-links {
          gap: 0.75rem;
        }

        .default-search-text code {
          display: block;
          margin: 0.5rem 0;
          text-align: center;
          padding: 0.5rem;
          overflow-x: auto;
        }
      }

      @media (max-width: 480px) {
        .search-navigation {
          flex-wrap: wrap;
          justify-content: center;
        }

        .search-tab {
          padding: 0.625rem 0.875rem;
          font-size: 0.8125rem;
        }

        .search-icon,
        .ai-icon {
          width: 32px;
          height: 32px;
          padding: 6px;
        }
      }
    </style>
  </head>
  <body>
    <div class="header">
      <img src="logo.png" alt="FlashTags" class="header-logo" onclick="window.location.href='/'" />
      <div class="nav-links">
        <a href="/guide" class="nav-link">Guide</a>
        <a href="/settings" class="nav-link">Settings</a>
      </div>
    </div>

    <!-- Background blobs -->
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>

    <div class="hero-section">
      <div class="hero-content">
        <div class="logo-container">
          <div class="logo-glow"></div>
          <img src="logo.png" alt="FlashTags" class="logo" />
        </div>
        <p class="tagline">Get AI-powered search results and instant summaries for any topic in seconds</p>
        
        <div class="search-container">
          <input type="text" id="search-bar" class="search-bar" placeholder="Search the web with AI..." autofocus />
          <div id="site-info-tooltip" class="site-info-tooltip"></div>
          <div class="search-icon-container">
            <svg id="search-icon" class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path d="M10 2a8 8 0 105.293 14.707l5 5a1 1 0 001.414-1.414l-5-5A8 8 0 0010 2zm0 2a6 6 0 110 12 6 6 0 010-12z" />
            </svg>
            <svg id="ai-icon" class="ai-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
            </svg>
          </div>
          <div id="suggestions" class="suggestions"></div>
        </div>
        
        <div class="search-navigation">
          <div class="search-tab active" data-type="web">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path d="M16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 01-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2 0-.68.06-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.923 7.923 0 019.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8.008 8.008 0 015.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.65 15.65 0 00-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0010 10 10 10 0 0010-10A10 10 0 0012 2z" />
            </svg>
            <span>Web</span>
          </div>
          <div class="search-tab" data-type="images">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path d="M21 19V5a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2zM8.5 13.5l2.5 3 3.5-4.5 4.5 6H5l3.5-4.5z"/>
            </svg>
            <span>Images</span>
          </div>
          <div class="search-tab" data-type="ai">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
            </svg>
            <span>AI Focus</span>
          </div>
        </div>

        <div class="default-search-banner">
          <div class="default-search-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-.001 5.75c.69 0 1.251.56 1.251 1.25s-.561 1.25-1.251 1.25-1.249-.56-1.249-1.25.559-1.25 1.249-1.25zm2.001 12.25h-4v-1c.484-.179 1-.201 1-.735v-4.467c0-.534-.516-.618-1-.797v-1h3v6.265c0 .535.517.558 1 .735v.999z"/>
            </svg>
          </div>
          <div class="default-search-content">
            <h3 class="default-search-title">Make FlashTags Your Default Search Engine</h3>
            <p class="default-search-text">
              Add this URL to your browser's search engine settings:
              <code>https://flashtags.tech?f=%s</code>
            </p>
            <button id="copy-url" class="copy-btn">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
              </svg>
              Copy URL
            </button>
          </div>
        </div>
        
        <button id="about-toggle" class="about-toggle">
          <span>Learn more about FlashTags</span>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        
        <div id="about-section" class="about-section">
          <div class="feature-grid">
            <div class="feature">
              <div class="feature-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"/>
                </svg>
              </div>
              <h3 class="feature-title">AI Summaries</h3>
              <p class="feature-desc">Get instant AI-generated summaries of search results that directly answer your questions, saving you from clicking through multiple websites.</p>
            </div>
            
            <div class="feature">
              <div class="feature-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <path d="M15 4a8 8 0 100 16 8 8 0 000-16zm0 14a6 6 0 110-12 6 6 0 010 12zm0-9a1 1 0 100 2 1 1 0 000-2z"/>
                </svg>
              </div>
              <h3 class="feature-title">Deep Search</h3>
              <p class="feature-desc">Our search engine digs deeper through the web to find more accurate and comprehensive information from trusted sources, not just popular ones.</p>
            </div>
            
            <div class="feature">
              <div class="feature-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V7h14v12zm-5-7.5h-1.5V13h-1v-1.5H10v-1h1.5V9h1v1.5H15v1zm-7 4.5h4v-1H7v1zm0-3h5v-1H7v1z"/>
                </svg>
              </div>
              <h3 class="feature-title">Ask Follow-ups</h3>
              <p class="feature-desc">Continue your research by asking follow-up questions directly to our AI, making your search experience conversational and more helpful.</p>
            </div>
            
            <div class="feature">
              <div class="feature-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"/>
                </svg>
              </div>
              <h3 class="feature-title">Private Search</h3>
              <p class="feature-desc">Your privacy is our priority. We don't track your searches or sell your data, ensuring a secure and confidential search experience.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="footer-links">
        <a href="/about" class="footer-link">About</a>
        <a href="/privacy" class="footer-link">Privacy Policy</a>
        <a href="/terms" class="footer-link">Terms of Service</a>
        <a href="/contact" class="footer-link">Contact Us</a>
      </div>
      <div class="copyright">Â© 2024 FlashTags. All rights reserved.</div>
    </footer>

    <div id="toast" class="toast">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>
      </svg>
      <span>URL copied to clipboard!</span>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // DOM Elements
        const searchBar = document.getElementById('search-bar');
        const searchIcon = document.getElementById('search-icon');
        const aiIcon = document.getElementById('ai-icon');
        const aboutToggle = document.getElementById('about-toggle');
        const aboutSection = document.getElementById('about-section');
        const copyUrlBtn = document.getElementById('copy-url');
        const toast = document.getElementById('toast');
        const searchTabs = document.querySelectorAll('.search-tab');
        const suggestionsContainer = document.getElementById('suggestions');
        const siteInfoTooltip = document.getElementById('site-info-tooltip');
        
        // Search state
        let currentSearchType = 'web';
        
        // Focus search bar on page load with a slight delay
        setTimeout(() => {
          searchBar.focus();
        }, 500);
        
        // Check if URL has query parameter for instant search
        const urlParams = new URLSearchParams(window.location.search);
        const queryParam = urlParams.get('f');
        
        if (queryParam) {
          // Set the search bar value to the query parameter
          searchBar.value = decodeURIComponent(queryParam);
          
          // Perform search immediately
          setTimeout(() => {
            submitSearch();
          }, 300);
        }
        
        // Handle search submission
        function submitSearch(searchType = currentSearchType) {
          const query = searchBar.value.trim();
          if (!query) return;
          
          // Check for flashtags
          const flashtagMatch = query.match(/^(.*?)\s+!(\w+)$/);
          if (flashtagMatch) {
            handleFlashtagSearch(query, flashtagMatch);
            return;
          }
          
          let url;
          switch (searchType) {
            case 'images':
              url = `/results?f=${encodeURIComponent(query)}&view=images`;
              break;
            case 'ai':
              url = `/results?f=${encodeURIComponent(query)}&ai=focus`;
              break;
            default:
              url = `/results?f=${encodeURIComponent(query)}`;
          }
          
          window.location.href = url;
        }
        
        // Handle flashtag searches
        function handleFlashtagSearch(query, match) {
          const searchTerm = match[1].trim();
          const tag = match[2].toLowerCase();
          
          fetch('/sites.json')
            .then(response => response.json())
            .then(sites => {
              const site = sites.find(s => s.alias && s.alias.includes(tag));
              
              if (site) {
                window.location.href = `${site.site}${encodeURIComponent(searchTerm)}`;
              } else {
                const cleanQuery = query.replace(/\s+!\w+$/, '');
                submitSearch(cleanQuery);
              }
            })
            .catch(error => {
              console.error('Error loading sites:', error);
              const cleanQuery = query.replace(/\s+!\w+$/, '');
              submitSearch(cleanQuery);
            });
        }
        
        // Event listeners for search
        searchBar.addEventListener('keydown', (e) => {
          if (e.key === 'Enter') {
            submitSearch();
          }
        });
        
        searchIcon.addEventListener('click', () => {
          submitSearch();
        });
        
        aiIcon.addEventListener('click', () => {
          submitSearch('ai');
        });
        
        // Check for Flashtag pattern
        searchBar.addEventListener('input', () => {
          checkForFlashTag();
          updateSuggestions();
        });
        
        function checkForFlashTag() {
          if (!searchBar || !siteInfoTooltip) return;
          
          const query = searchBar.value.trim();
          if (!query) {
            siteInfoTooltip.classList.remove('visible');
            return;
          }
          
          const match = query.match(/^(.*?)\s+!(\w+)$/);
          if (!match) {
            siteInfoTooltip.classList.remove('visible');
            return;
          }

          const tag = match[2].toLowerCase();
          
          fetch('/sites.json')
            .then(response => response.json())
            .then(sites => {
              const site = sites.find(s => s.alias && s.alias.includes(tag));
              
              if (site && site.title) {
                let favicon = '';
                try {
                  const domain = new URL(site.site).hostname;
                  favicon = `<img class="favicon-img" src="/favicon/${encodeURIComponent(domain)}" alt="" />`;
                } catch (err) {
                  console.error('Error parsing URL for favicon:', err);
                }
                
                siteInfoTooltip.innerHTML = `${favicon}Searching on ${site.title}`;
                siteInfoTooltip.classList.add('visible');
              } else {
                siteInfoTooltip.classList.remove('visible');
              }
            })
            .catch(error => {
              console.error('Error loading sites:', error);
              siteInfoTooltip.classList.remove('visible');
            });
        }
        
        // Toggle about section
        aboutToggle.addEventListener('click', () => {
          aboutSection.classList.toggle('visible');
          aboutToggle.classList.toggle('open');
          
          // Update toggle button text
          const toggleText = aboutSection.classList.contains('visible') ? 'Hide details' : 'Learn more about FlashTags';
          aboutToggle.querySelector('span').textContent = toggleText;
        });
        
        // Copy URL to clipboard
        copyUrlBtn.addEventListener('click', () => {
          navigator.clipboard.writeText('https://flashtags.tech/?f=%s')
            .then(() => {
              toast.classList.add('visible');
              
              setTimeout(() => {
                toast.classList.remove('visible');
              }, 3000);
            })
            .catch(err => {
              console.error('Failed to copy URL: ', err);
              alert('Failed to copy URL. Please try again.');
            });
        });
        
        // Setup search tabs
        searchTabs.forEach(tab => {
          tab.addEventListener('click', () => {
            searchTabs.forEach(t => t.classList.remove('active'));
            tab.classList.add('active');
            currentSearchType = tab.dataset.type;
            
            searchBar.focus();
          });
        });
        
        // Fetch search suggestions
        function updateSuggestions() {
          const query = searchBar.value.trim();
          
          if (query.length < 2) {
            suggestionsContainer.classList.remove('visible');
            return;
          }
          
          fetch(`https://api.coopr.tech:8148/flashtag-ai/autocomplete?q=${encodeURIComponent(query)}`)
            .then(response => response.json())
            .then(data => {
              if (data.suggestions && data.suggestions.length > 0) {
                suggestionsContainer.innerHTML = '';
                
                data.suggestions.forEach(suggestion => {
                  const item = document.createElement('div');
                  item.className = 'suggestion';
                  item.innerHTML = `
                    <svg class="suggestion-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                      <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" />
                    </svg>
                    <div class="suggestion-text">${suggestion}</div>
                  `;
                  
                  item.addEventListener('click', () => {
                    searchBar.value = suggestion;
                    suggestionsContainer.classList.remove('visible');
                    submitSearch();
                  });
                  
                  suggestionsContainer.appendChild(item);
                });
                
                suggestionsContainer.classList.add('visible');
              } else {
                suggestionsContainer.classList.remove('visible');
              }
            })
            .catch(error => {
              console.error('Error fetching suggestions:', error);
            });
        }
        
        // Debounce function
        function debounce(func, wait) {
          let timeout;
          return function(...args) {
            clearTimeout(timeout);
            timeout = setTimeout(() => func.apply(this, args), wait);
          };
        }
        
        // Use debounced version for suggestions
        const debouncedSuggestions = debounce(updateSuggestions, 300);
        searchBar.addEventListener('input', debouncedSuggestions);
        
        // Close suggestions when clicking outside
        document.addEventListener('click', (e) => {
          if (!e.target.closest('.search-container')) {
            suggestionsContainer.classList.remove('visible');
          }
        });
      });
    </script>
  </body>
</html>
